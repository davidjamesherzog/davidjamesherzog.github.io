<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker, Node and Nginx | David Herzog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Creating a docker container with node.js and nginx">
    
    <link rel="preload" href="/assets/css/0.styles.622b7de2.css" as="style"><link rel="preload" href="/assets/js/app.3298d891.js" as="script"><link rel="preload" href="/assets/js/6.41d057a5.js" as="script"><link rel="preload" href="/assets/js/3.9c2e4e09.js" as="script"><link rel="preload" href="/assets/js/16.62238584.js" as="script"><link rel="prefetch" href="/assets/js/10.2d331fac.js"><link rel="prefetch" href="/assets/js/11.a912d353.js"><link rel="prefetch" href="/assets/js/12.d5e1df76.js"><link rel="prefetch" href="/assets/js/13.e4ae86dd.js"><link rel="prefetch" href="/assets/js/14.3eda4054.js"><link rel="prefetch" href="/assets/js/15.05fb0ce0.js"><link rel="prefetch" href="/assets/js/17.74ba3a30.js"><link rel="prefetch" href="/assets/js/18.2f4f23fd.js"><link rel="prefetch" href="/assets/js/19.7ae2808c.js"><link rel="prefetch" href="/assets/js/4.daabf931.js"><link rel="prefetch" href="/assets/js/5.0b2e60d7.js"><link rel="prefetch" href="/assets/js/7.fdf77b34.js"><link rel="prefetch" href="/assets/js/8.f2bd5eb4.js"><link rel="prefetch" href="/assets/js/9.b07c0af2.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.9158f64c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.622b7de2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><nav class="navbar navbar-expand-md navbar-light bg-white fixed-top"><div class="container"><a href="/" class="navbar-brand"><img src="/assets/img/dave.png" class="navbar-img">
            David Herzog
          </a> <button type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button> <div id="navbarsExampleDefault" class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></ul></div></div></nav></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="mobile-home-link navbar-brand"><img src="/assets/img/dave.png"> David Herzog
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/">Blog</a></li><li class="mobile-nav-item"><a href="/tag/">Tags</a></li><li class="mobile-nav-item"><a href="/about/">About</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="container wrapmain"><div id="vuepress-theme-blog__post-layout" data-v-0b02e43c><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content" data-v-0b02e43c><div class="row justify-content-center" data-v-0b02e43c><div class="col-md-8" data-v-0b02e43c><header data-v-0b02e43c><span class="text-muted" data-v-0b02e43c><div class="post-meta" data-v-0b02e43c><!----> <div class="post-meta-date"><time pubdate itemprop="datePublished" datetime="2018-01-01T00:00:00.000Z">
      Sun, Dec 31 2017
    </time></div> <!----></div></span> <h1 itemprop="name headline" class="article-head mt-3" data-v-0b02e43c>
            Docker, Node and Nginx
          </h1> <p class="lead" data-v-0b02e43c>Creating a docker container with node.js and nginx</p> <div data-v-0b02e43c><span><div class="d-flex align-items-center"><a class="profile-avatar"><img src="/assets/img/dave.png" alt="Dave" class="avatar-image"></a> <div><span>Dave</span> Â 
        <a href="https://www.linkedin.com/in/davidjamesherzog/" target="_blank" rel="noopener noreferrer" class="external btn btn-sm btn-outline-dark">Follow</a></div></div></span></div></header></div></div> <div class="row justify-content-center text-center mt-4 mb-40" data-v-0b02e43c><div class="col-md-9" data-v-0b02e43c><img src="/assets/img/docker.png" class="featuredimg" data-v-0b02e43c></div></div> <div class="row justify-content-center" data-v-0b02e43c><div class="col-md-8" data-v-0b02e43c><div itemprop="articleBody" class="content__default" data-v-0b02e43c><p>There may be times in your development process where you might want to run your code locally just like you would run it in production. Most of us run different operating systems for development than where we run our production code. Docker makes it easy for you to spin up an enviroment that mimics your production enviroment locally.</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting Started</h2> <p>We'll start off by creating a new project. This is easy to do by using the npm init command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> init -f
</code></pre></div><p>Lets go ahead and create a source directory and create a simple index.html file.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> src
$ <span class="token builtin class-name">cd</span> src
$ <span class="token function">touch</span> index.html
</code></pre></div><p>Once you have created the index.html file, add the following html code for a very simple example.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Node-Docker-nginx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello Node Docker nginx example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="create-dockerfile"><a href="#create-dockerfile" class="header-anchor">#</a> Create Dockerfile</h2> <p>Now you will create your Dockerfile.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">touch</span> Dockerfile
</code></pre></div><p>We'll leverage the existing nginx docker container from <a href="https://hub.docker.com/_/nginx/" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language- extra-class"><pre class="language-text"><code># Builds a Docker to deliver src/
FROM nginx:latest
COPY src/ /usr/share/nginx/html
</code></pre></div><h2 id="create-image-and-container"><a href="#create-image-and-container" class="header-anchor">#</a> Create Image and Container</h2> <p>We'll use your Dockerfile to create the nginx docker image.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker build -t node-docker-nginx:latest <span class="token builtin class-name">.</span>
</code></pre></div><p>Now the docker image should be created. To verify, run the following docker command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker images
</code></pre></div><p>You should see your newly created docker image like this.</p> <div class="language- extra-class"><pre class="language-text"><code>REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
node-docker-nginx        latest              4a3eea93df52        5 seconds ago       181.5 MB
</code></pre></div><p>Next, you'll create the docker container by running the following docker command. This will run nginx on port 8080 instead of the default port of 80.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker run --name node-docker-nginx -d -p <span class="token number">8080</span>:80 node-docker-nginx
</code></pre></div><p>List the containers that you have created.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker <span class="token function">ps</span> -a
</code></pre></div><p>You should see your new docker container like this.</p> <div class="language- extra-class"><pre class="language-text"><code>CONTAINER ID    IMAGE                COMMAND                  ...   PORTS                           NAMES
38be8f13dcd9    node-docker-nginx    &quot;nginx -g 'daemon off&quot;   ...   443/tcp, 0.0.0.0:8080-&gt;80/tcp   node-docker-nginx
</code></pre></div><h2 id="test-it-out"><a href="#test-it-out" class="header-anchor">#</a> Test It Out</h2> <p>Now all you have to do is start your container.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker start node-docker-nginx
</code></pre></div><p>Go to your <code>index.html</code> page by going <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <div class="post-meta" data-v-0b02e43c><!----> <!----> <div itemprop="keywords" class="card-subheading post-meta-tags"><a href="/tag/docker" data-v-304a57ff> docker </a><a href="/tag/node" data-v-304a57ff> node </a><a href="/tag/nginx" data-v-304a57ff> nginx </a></div></div></div></div></article> <div class="row justify-content-center" data-v-0b02e43c><div class="col-md-9" data-v-0b02e43c><!----> <!----></div></div> <div class="sticker vuepress-toc" data-v-0b02e43c><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#getting-started" title="Getting Started">Getting Started</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#create-dockerfile" title="Create Dockerfile">Create Dockerfile</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#create-image-and-container" title="Create Image and Container">Create Image and Container</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#test-it-out" title="Test It Out">Test It Out</a></div></div></div></div> <footer class="themefooter"><div class="container"><div class="row justify-content-between"><div class="col"><ul class="list-unstyled contact"><li class="contact-item"><a href="https://github.com/davidjamesherzog" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
              
            </a></li><li class="contact-item"><a href="https://www.linkedin.com/in/davidjamesherzog/" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
              
            </a></li><li class="contact-item"><a href="https://twitter.com/evadgozreh" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
              
            </a></li></ul></div> <div class="col text-right"><ul class="list-unstyled"><li class="copyright-item"><a href="https://bootstrapstarter.com/license/" target="_blank" rel="noopener noreferrer" class="external">Licensed MIT.</a></li><li class="copyright-item"><a href="https://bootstrapstarter.com/bootstrap-templates/vuepress-theme-mediumish/" target="_blank" rel="noopener noreferrer" class="external">Made with Mediumish - free Vuepress theme</a></li></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3298d891.js" defer></script><script src="/assets/js/6.41d057a5.js" defer></script><script src="/assets/js/3.9c2e4e09.js" defer></script><script src="/assets/js/16.62238584.js" defer></script>
  </body>
</html>
